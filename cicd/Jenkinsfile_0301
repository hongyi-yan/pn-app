pipeline {
    agent {
        docker {
            image 'node:16.18.1'
        }     
    }

    environment {
        CI = 'false'
        //Feb_ENVIRONMENT = 'uat'
        //BUCKET_NAME = ''
        //WORKSPACE_PATH = ''
    }

    stages {
        stage('Install package') {
            steps {
                echo "Installing packages"
                sh 'npm install'
            }
        }
        stage('Build') {
            steps {
                echo "Building"
                sh 'npm run build'
            }
        }
        stage('Test') {
            steps {
                echo "testing"
            }
        }
        stage('Install AWS CLI') {
            steps {
                echo "Installing AWS CLI"
            }
        }
         stage('Deploy to UAT') {
            steps {
                echo "Deploy to UAT"
            }
        }

    }

    post {
        always {
            cleanWs()
				sh 'ls -la'
        }
        success{
            echo "In post-success"
        }
        failure {
            echo "In post-failure"

        }

    }
}

def deployToS3(environment) {
    
}